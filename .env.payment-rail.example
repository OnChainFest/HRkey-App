# ============================================
# HRKey Payment Rail Environment Configuration
# ============================================
# Copy this file to .env and fill in your values
# NEVER commit .env to version control
# ============================================

# ============================================
# NETWORK CONFIGURATION
# ============================================

# Base Network RPC URLs
BASE_RPC_URL=https://mainnet.base.org
BASE_SEPOLIA_RPC=https://sepolia.base.org

# Chain IDs
BASE_CHAIN_ID=8453
BASE_SEPOLIA_CHAIN_ID=84532

# Deployment Private Key (NEVER share this!)
# Use a hardware wallet or secure key management system in production
PRIVATE_KEY=your_deployer_private_key_here

# ============================================
# TOKEN ADDRESSES
# ============================================

# RLUSD Token Address on Base
# Mainnet: TBD (fill when RLUSD launches on Base)
# Testnet: Use mock RLUSD for testing
RLUSD_TOKEN_ADDRESS=0x0000000000000000000000000000000000000000

# HRK Token Address (your existing deployment)
HRK_TOKEN_ADDRESS=0x0000000000000000000000000000000000000000

# ============================================
# CONTRACT ADDRESSES (filled after deployment)
# ============================================

# Payment Rail Contracts
PAYMENT_SPLITTER_ADDRESS=
REPUTATION_REGISTRY_ADDRESS=

# Existing HRKey Contracts
STAKING_CONTRACT_ADDRESS=
SLASHING_CONTRACT_ADDRESS=

# Treasury & Admin
TREASURY_ADDRESS=0x0000000000000000000000000000000000000000
ADMIN_ADDRESS=0x0000000000000000000000000000000000000000

# ============================================
# BLOCKCHAIN EXPLORER
# ============================================

# Basescan API Key (for contract verification)
BASESCAN_API_KEY=your_basescan_api_key

# ============================================
# DATABASE (SUPABASE)
# ============================================

# Supabase Project URL
SUPABASE_URL=https://xxxxx.supabase.co

# Supabase Service Role Key (backend only)
# WARNING: This key has full database access. Keep secure!
SUPABASE_SERVICE_KEY=your_supabase_service_key

# Supabase Anon Key (frontend)
NEXT_PUBLIC_SUPABASE_ANON_KEY=your_supabase_anon_key

# ============================================
# XRP LEDGER (for cross-border payments)
# ============================================

# XRPL Network URLs
XRPL_MAINNET_URL=wss://xrplcluster.com
XRPL_TESTNET_URL=wss://s.altnet.rippletest.net:51233

# XRP Bridge Wallet (for liquidity management)
# Use a separate wallet for bridge operations
XRP_BRIDGE_WALLET_ADDRESS=
XRP_BRIDGE_WALLET_SECRET=

# Minimum amount for XRP bridge (USD)
XRP_BRIDGE_MIN_AMOUNT=1000

# ============================================
# PAYMENT PROCESSING
# ============================================

# Payment expiry time (minutes)
PAYMENT_EXPIRY_MINUTES=15

# Retry configuration for failed payments
PAYMENT_MAX_RETRIES=5
PAYMENT_RETRY_DELAY_MS=5000

# ============================================
# STAKING CONFIGURATION
# ============================================

# Tier Requirements (HRK amounts)
TIER_BRONZE_MIN=100
TIER_SILVER_MIN=500
TIER_GOLD_MIN=2000
TIER_PLATINUM_MIN=10000

# APY by Tier (percentage)
TIER_BRONZE_APY=5
TIER_SILVER_APY=8
TIER_GOLD_APY=12
TIER_PLATINUM_APY=15

# ============================================
# EMAIL NOTIFICATIONS
# ============================================

# Email Service (Resend, SendGrid, etc.)
EMAIL_SERVICE=resend
EMAIL_API_KEY=your_email_api_key

# Email Templates
EMAIL_FROM=noreply@hrkey.com
EMAIL_REPLY_TO=support@hrkey.com

# ============================================
# MONITORING & LOGGING
# ============================================

# Sentry (error tracking)
SENTRY_DSN=

# Log Level (debug, info, warn, error)
LOG_LEVEL=info

# ============================================
# FRONTEND (Next.js)
# ============================================

# Public contract addresses (visible to frontend)
NEXT_PUBLIC_PAYMENT_SPLITTER_ADDRESS=
NEXT_PUBLIC_REPUTATION_REGISTRY_ADDRESS=
NEXT_PUBLIC_RLUSD_TOKEN_ADDRESS=
NEXT_PUBLIC_HRK_TOKEN_ADDRESS=
NEXT_PUBLIC_CHAIN_ID=8453

# Base RPC URL for frontend wallets
NEXT_PUBLIC_BASE_RPC_URL=https://mainnet.base.org

# WalletConnect Project ID (for wallet connections)
NEXT_PUBLIC_WALLETCONNECT_PROJECT_ID=

# ============================================
# DEVELOPMENT ONLY
# ============================================

# Enable debug logging
DEBUG=false

# Use testnet instead of mainnet
USE_TESTNET=true

# Mock XRP bridge (for testing without actual XRP)
MOCK_XRP_BRIDGE=true

# ============================================
# SECURITY
# ============================================

# JWT Secret for API authentication
JWT_SECRET=generate_a_secure_random_string_here

# Rate Limiting
RATE_LIMIT_REQUESTS_PER_MINUTE=60
RATE_LIMIT_WINDOW_MS=60000

# CORS Allowed Origins
CORS_ORIGINS=http://localhost:3000,https://hrkey.com

# ============================================
# OPERATIONAL
# ============================================

# Environment (development, staging, production)
NODE_ENV=development

# Port for backend API
PORT=3001

# Payment listener poll interval (ms)
LISTENER_POLL_INTERVAL=5000

# ============================================
# NOTES
# ============================================

# 1. RLUSD Address:
#    - RLUSD is Ripple's USD stablecoin
#    - Check official Ripple docs for Base deployment address
#    - Testnet: Deploy mock RLUSD for testing

# 2. Private Key Security:
#    - NEVER commit private keys to git
#    - Use hardware wallets for production
#    - Consider AWS Secrets Manager or HashiCorp Vault

# 3. Supabase Service Key:
#    - Has full database access
#    - Only use on backend/server
#    - Never expose to frontend/client

# 4. XRP Bridge:
#    - Optional feature for cross-border payments
#    - Can be disabled initially
#    - Set MOCK_XRP_BRIDGE=true for testing

# 5. Contract Deployment:
#    - Deploy to testnet first
#    - Verify all contracts on Basescan
#    - Test thoroughly before mainnet

# ============================================
# DEPLOYMENT CHECKLIST
# ============================================

# [ ] All addresses filled in
# [ ] Private keys secured
# [ ] Database migrated
# [ ] Contracts verified on Basescan
# [ ] Payment listener running
# [ ] Email notifications configured
# [ ] Monitoring enabled
# [ ] Testnet fully tested
# [ ] Security audit completed
# [ ] Multi-sig configured for admin roles
